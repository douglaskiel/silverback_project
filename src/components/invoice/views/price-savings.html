<div class="row">
	<div class="col-sm-12">
		<button class="btn" type="button" ng-click="export = true; exportData();">Export</button>
		<div class="table-responsive">
			<div id="savings_report">
				<table class="table" id="dvData">
					<tr>
						<td colspan="2" style="text-align: left;"> LTL Savings Estimate </td>
						<td colspan="12" style="font-size: large; text-align: center;"> <b> {{client_name}} </b> </td>
						<td colspan="2" style="text-align: right;"> Prepared by: Silverback</td>
					</tr>
					<tr>
						<td colspan="2" style="text-align: left;"> Processing Date: {{process_date | date: 'MM/dd/yyyy'}} </td>
						<td colspan="14"> </td>
					</tr>
					<tr style="text-align: center; font-weight: bold;">
						<td colspan="4"> </td>
						<td style="background-color: lightblue; border-left: 1px solid black;" colspan="5"> Benchmark </td>
						<td style="background-color: lightyellow; border-left: 1px solid black;" colspan="5"> New Charges </td>
						<td style="background-color: lightgreen; border-bottom: 1px solid black; border-left: 1px solid black;" rowspan="2"> Savings </td>
						<td style="border-bottom: 1px solid black; border-left: 1px solid black;" rowspan="2"> 1/2 of Sav. </td>
					</tr>
					<tr style="font-weight: bold; text-align: left;">
						<td style="border-bottom: 1px solid black; vertical-align: middle;"> Carrier </td>
						<td style="border-bottom: 1px solid black; vertical-align: middle;"> Pro </td>
						<td style="border-bottom: 1px solid black; vertical-align: middle;"> Receiver Name</td>
						<td style="border-bottom: 1px solid black; vertical-align: middle;"> Zip Code </td>
						<td style="background-color: lightblue; border-bottom: 1px solid black; border-left: 1px solid black; vertical-align: middle;"> BM Disc </td>
						<td style="background-color: lightblue; border-bottom: 1px solid black; vertical-align: middle;"> Frt Charge</td>
						<td style="background-color: lightblue; border-bottom: 1px solid black; vertical-align: middle;"> FSC </td>
						<td style="background-color: lightblue; border-bottom: 1px solid black; vertical-align: middle;"> Access. </td>
						<td style="background-color: lightblue; border-bottom: 1px solid black; vertical-align: middle;"> TTL Charge </td>
						<td style="background-color: lightyellow; border-bottom: 1px solid black; border-left: 1px solid black; vertical-align: middle;"> Disc </td>
						<td style="background-color: lightyellow; border-bottom: 1px solid black; vertical-align: middle;"> Frt Charges </td>
						<td style="background-color: lightyellow; border-bottom: 1px solid black; vertical-align: middle;"> FSC </td>
						<td style="background-color: lightyellow; border-bottom: 1px solid black; vertical-align: middle;"> Access. </td>
						<td style="background-color: lightyellow; border-bottom: 1px solid black; vertical-align: middle;"> TTL Charges </td>
					</tr>
					<tr ng-repeat="invoice in savingsInvoices | orderBy:'ship_date'" style="text-align: left;">
						<td style="vertical-align: middle;" ng-bind-html="invoice.carrier_name"></td>
						<td style="vertical-align: middle;" ng-bind-html="invoice.invoice_number"> </td>
						<td style="vertical-align: middle;" ng-bind-html="invoice.receiver_name"> </td>
						<td style="vertical-align: middle;" ng-bind-html="invoice.receiver_zip"> </td>
						<td style="background-color: lightblue; border-left: 1px solid black; vertical-align: middle;" ng-bind-html="invoice.bmdiscount"> </td>
						<td style="background-color: lightblue; vertical-align: middle;" ng-bind-html="invoice.freight_charge | currency">
						</td>
						<td style="background-color: lightblue; vertical-align: middle;" ng-bind-html="invoice.benchmark_fuel_charge | currency"> </td>
						<td style="background-color: lightblue; vertical-align: middle;" ng-init="invoice.benchamrk_access = invoice.total_benchmark">
							<div ng-if="export" ng-init="export = false">
								<span ng-bind-html="invoice.benchamrk_access | currency""></span>
							</div>
							<div ng-if="!export">
								<a href="" ng-bind-html="invoice.benchamrk_access | currency" ng-click="editTS = true" ng-hide="editTS"> </a>
								<input ng-if="editTS" type="number" step="0.01" ng-model="invoice.benchamrk_access" class="form-control" ng-change="recalculation(invoice)">
							</div>
						</td>
						<td style="background-color: lightblue; vertical-align: middle;">
							<div ng-if="export" ng-init="export = false">
								<span ng-bind-html="invoice.benchmark_charge | currency""></span>
							</div>
							<div ng-if="!export">
								<a href="" ng-bind-html="invoice.benchmark_charge | currency" ng-click="editTS = true" ng-hide="editTS"> </a>
								<input ng-if="editTS" type="number" step="0.01" ng-model="invoice.benchmark_charge" class="form-control" ng-change="recalculation(invoice)">
							</div>
						</td>
						<td style="background-color: lightyellow; border-left: 1px solid black; vertical-align: middle;" ng-bind-html="invoice.savings_discount"> </td>
						<td style="background-color: lightyellow; vertical-align: middle;" ng-bind-html="invoice.savings_frieght_charge | currency"> </td>
						<td style="background-color: lightyellow; vertical-align: middle;" ng-bind-html="invoice.savings_fuel_surcharge | currency"> </td>
						<td style="background-color: lightyellow; vertical-align: middle;" ng-init="invoice.assess_charge = invoice.total_associated_costs">
							<div ng-if="export" ng-init="export = false">
								<span ng-bind-html="invoice.assess_charge | currency""></span>
							</div>
							<div ng-if="!export">
								<a href="" ng-bind-html="invoice.assess_charge | currency" ng-click="editTS = true" ng-hide="editTS"> </a>
								<input ng-if="editTS" type="number" step="0.01" ng-model="invoice.assess_charge" class="form-control" ng-change="recalculation(invoice)">
							</div>
						</td>
						<td style="background-color: lightyellow; min-width: 100px; vertical-align: middle;">
							<div ng-if="export" ng-init="export = false">
								<span ng-bind-html="invoice.savings_total_charge | currency"></span>
							</div>
							<div ng-if="!export">
								<a href="" ng-bind-html="invoice.savings_total_charge | currency" ng-click="editTS = true" ng-hide="editTS"> </a>
								<input ng-if="editTS" type="number" step="0.01" ng-model="invoice.savings_total_charge" class="form-control" ng-change="recalculation(invoice)">
							</div>
						</td>
						<td style="background-color: lightgreen; border-left: 1px solid black; vertical-align: middle;" ng-bind-html="invoice.benchmark_charge - invoice.savings_total_charge | currency"> </td>
						<td style="border-left: 1px solid black; vertical-align: middle;" ng-bind-html="(invoice.benchmark_charge - invoice.savings_total_charge)/2 | currency"> </td>
					</tr>
					<tr ng-repeat="xpoInvoice in savingsXPOInvoices | orderBy:'ship_date'" style="text-align: left;">

						<td style="vertical-align: middle;" ng-bind-html="xpoInvoice.carrier_name"></td>
						<td style="vertical-align: middle;" ng-bind-html="xpoInvoice.pro_number"> </td>
						<td style="vertical-align: middle;" ng-bind-html="xpoInvoice.receiver"> </td>
						<td style="vertical-align: middle;" ng-bind-html="xpoInvoice.receiver_zip"> </td>
						<td style="background-color: lightblue; border-left: 1px solid black; vertical-align: middle;"> 82.9% </td>
						<td style="background-color: lightblue; vertical-align: middle;" ng-bind-html="xpoInvoice.old_cost | currency">
						</td>
						<td style="background-color: lightblue; vertical-align: middle;" ng-bind-html="xpoInvoice.old_fsc | currency"> </td>
						<td style="background-color: lightblue; vertical-align: middle;">
						</td>
						<td style="background-color: lightblue; vertical-align: middle;" ng-bind-html="xpoInvoice.old_total_cost | currency">
						</td>
						<td style="background-color: lightyellow; border-left: 1px solid black; vertical-align: middle;"> <span ng-bind-html="xpoInvoice.discount_percent * 100"> </span>% </td>
						<td style="background-color: lightyellow; vertical-align: middle;" ng-bind-html="xpoInvoice.new_cost | currency"> </td>
						<td style="background-color: lightyellow; vertical-align: middle;" ng-bind-html="xpoInvoice.new_fsc | currency"> </td>
						<td style="background-color: lightyellow; vertical-align: middle;" > 
							
						</td>
						<td style="background-color: lightyellow; min-width: 100px; vertical-align: middle;">
							<span ng-bind-html="xpoInvoice.new_total_cost | currency"></span>
						</td>
						<td style="background-color: lightgreen; border-left: 1px solid black; vertical-align: middle;" ng-bind-html="xpoInvoice.savings | currency"> </td>
						<td style="border-left: 1px solid black; vertical-align: middle;" ng-bind-html="xpoInvoice.savings/2 | currency"> </td>
					</tr>
					<tr style="font-weight: bold; text-align: left; vertical-align: middle;">
						<td style="border-top: 1px solid black; vertical-align: middle;" colspan="4"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;"> Totals: </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalBenchmarkFrieghtCharge | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalFuelBenchmark | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalBenchmarkAccessorial | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalBenchmarkCharge | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalFreightCharge | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalFuelCharge | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalAccesorialCharge | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalCharged | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="totalBenchmarkCharge - totalCharged | currency"> </td>
						<td style="border-top: 1px solid black; border-bottom: 5px double black; vertical-align: middle;" ng-bind-html="(totalBenchmarkCharge - totalCharged)/2 | currency"> </td>
					</tr>
					<tr>
						<td colspan="16"> </td>
					</tr>
					<tr class="underTotals">
						<td colspan="14"> </td>
						<td style="border: 3px solid; text-align: center; vertical-align: middle;"> <span ng-bind-html="(1-(totalCharged / totalBenchmarkCharge))*100| number :2"> </span>%</td>
						<td></td>
					</tr>
				</table>
			</div>
		</div>
		<div class="table-responsive">
			<div id="all_data">
				<table class="table table-condensed table-striped">
					<tr>
						<th colspan="46" style="text-align: center;">ALL DATA</th>
					</tr>
					<tr style="text-align: left;">
						<th>Client Name</th>
						<th>Client Address 1</th>
						<th>Client Address 2 </th>
						<th>Client City</th>
						<th>Client Zip</th>
						<th>Client Zip+4</th>
						<th>Client Country</th>
						<th>Sender Name</th>
						<th>Sender Address 1</th>
						<th>Sender Address 2 </th>
						<th>Sender City</th>
						<th>Sender Zip</th>
						<th>Sender Zip+4</th>
						<th>Sender Country</th>
						<th>Receiver Name</th>
						<th>Receiver Address 1</th>
						<th>Receiver Address 2 </th>
						<th>Receiver City</th>
						<th>Receiver Zip</th>
						<th>Receiver Zip+4</th>
						<th>Receiver Country</th>
						<th>Carrier</th>
						<th>IOT</th>
						<th>Transportation Mode</th>
						<th>Package Type</th>
						<th>Fuel Surcharge</th>
						<th>FSC Date</th>
						<th>Diesel Price</th>
						<th>Invoice Number</th>
						<th>Billed Weight</th>
						<th>Process Date</th>
						<th>Ship Date </th>
						<th>Delivery Date </th>
						<th>Class 1</th>
						<th>Weight 1 </th>
						<th>Class 2</th>
						<th>Weight 2 </th>
						<th>Class 3</th>
						<th>Weight 3 </th>
						<th>Assc 1 $ </th>
						<th>Assc 1 Name </th>
						<th>Assc 2 $ </th>
						<th>Assc 2 Name </th>
						<th>Assc 3 $ </th>
						<th>Assc 3 Name </th>
						<th>TTL ASSC</th>
					</tr>
					<tr ng-repeat="invoice in savingsInvoices" style="text-align: left;">
						<td>{{invoice.client_name}}</td>
						<td>{{invoice.client_address_1}}</td>
						<td>{{invoice.client_address_2}}</td>
						<td>{{invoice.client_city}}</td>
						<td>{{invoice.client_zip}}</td>
						<td>{{invoice.client_zip_4}}</td>
						<td>{{invoice.client_country}}</td>
						<td>{{invoice.sender_name}}</td>
						<td>{{invoice.sender_address_1}}</td>
						<td>{{invoice.sender_address_2}}</td>
						<td>{{invoice.sender_city}}</td>
						<td>{{invoice.sender_zip}}</td>
						<td>{{invoice.sender_zip_4}}</td>
						<td>{{invoice.sender_country}}</td>
						<td>{{invoice.receiver_name}}</td>
						<td>{{invoice.receiver_address_1}}</td>
						<td>{{invoice.receiver_address_2}}</td>
						<td>{{invoice.receiver_city}}</td>
						<td>{{invoice.receiver_zip}}</td>
						<td>{{invoice.receiver_zip_4}}</td>
						<td>{{invoice.receiver_country}}</td>
						<td>{{invoice.carrier_name}}</td>
						<td>{{invoice.delivery_type}} </td>
						<td>{{invoice.transportation_mode}}</td>
						<td>{{invoice.package_type}}</td>
						<td ng-bind-html="invoice.savings_fuel_surcharge | currency"></td>
						<td>{{invoice.fuel_date| date: 'MM/dd/yy'}}</td>
						<td>{{invoice.fuel_rate}}</td>
						<td>{{invoice.invoice_number}}</td>
						<td>{{invoice.billed_weight}}</td>
						<td>{{invoice.process_date | date: 'MM/dd/yy'}}</td>
						<td>{{invoice.ship_date | date: 'MM/dd/yy'}}</td>
						<td>{{invoice.delivery_date | date: 'MM/dd/yy'}}</td>
						<td>{{invoice.shipped_Item[0].classification}}</td>
						<td>{{invoice.shipped_Item[0].weight}}</td>
						<td>{{invoice.shipped_Item[1].classification}}</td>
						<td>{{invoice.shipped_Item[1].weight}}</td>
						<td>{{invoice.shipped_Item[2].classification}}</td>
						<td>{{invoice.shipped_Item[2].weight}}</td>
						<td>{{invoice.ACCSCosts[0].actual_cost | currency}}</td>
						<td>{{invoice.ACCSCosts[0].cost_code}}</td>
						<td>{{invoice.ACCSCosts[1].actual_cost | currency}}</td>
						<td>{{invoice.ACCSCosts[1].cost_code}} </td>
						<td>{{invoice.ACCSCosts[2].actual_cost | currency}}</td>
						<td>{{invoice.ACCSCosts[2].cost_code}} </td>
						<td>{{invoice.total_associated_costs | currency}}</td>
					</tr>
				</table>
			</div>
		</div>
		<button class="btn" type="button" ng-click="export = true; exportData();">Export</button>
	</div>
</div>